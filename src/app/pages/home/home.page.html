<div class="background-image"></div>

<ion-content fullscreen *ngIf="usuario">

  <div class="main-container-profile">
    <app-header-profile></app-header-profile>
    
    <div class="carrousel-container">
      <img src="/assets/img/banner-minimarket.svg" onerror="this.src='https://ionicframework.com/docs/img/demos/card-media.png'" alt="Carrousel" class="carrousel-image">
    </div>

    <div class="category-btn-container">
      <button class="category-btn" 
              [ngClass]="{'active': categorySelected === 'stock'}"
              (click)="seleccionarCategoria('stock')">
        En Stock
      </button>

      <button class="category-btn" 
              [ngClass]="{'active': categorySelected === 'agotado'}"
              (click)="seleccionarCategoria('agotado')">
        Agotado
      </button>
    </div>

    <div class="products-container">
      <div *ngIf="productosFiltrados.length === 0" style="text-align: center; margin-top: 20px; color: grey; width: 200%;">
        <p>No hay productos en esta secci√≥n.</p>
      </div>

      <app-product-card *ngFor="let producto of productosFiltrados"
        [class.card-agotada]="!producto.disponible"
        [id]="producto.id" 
        [name]="producto.nombre"
        [price]="producto.precio" 
        [imageUrl]="producto.imagen_url">
      </app-product-card>
    </div>
  </div>
  
</ion-content>

<app-navbar></app-navbar>